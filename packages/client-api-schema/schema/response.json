{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "http://statechannels.org/schemas/response.json",
  "description": "A State Channel JSON RPC 2.0 response",
  "oneOf": [
    {
      "description": "An individual response",
      "$ref": "#/definitions/response"
    },
    {
      "description": "An array of responses",
      "type": "array",
      "items": {"$ref": "#/definitions/response"}
    }
  ],
  "definitions": {
    "response": {
      "type": "object",
      "required": ["jsonrpc", "id"],
      "properties": {
        "jsonrpc": {"enum": ["2.0"]},

        "id": {
          "type": ["string", "number"]
        },
        "result": {
          "anyOf": [
            {"$ref": "create-channel.json#/definitions/CreateChannelResult"},
            {"$ref": "join-channel.json#/definitions/JoinChannelResult"},
            {"$ref": "push-message.json#/definitions/PushMessageResult"},
            {"$ref": "get-address.json#/definitions/GetAddressResult"},
            {"$ref": "update-channel.json#/definitions/UpdateChannelResult"},
            {"$ref": "close-channel.json#/definitions/CloseChannelResult"},
            {"$ref": "challenge-channel.json#/definitions/ChallengeChannelResult"}
          ]
        }
      }
    }
  }
}
