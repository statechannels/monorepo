import {makeAddress} from '@statechannels/wallet-core';

import {fixture} from '../../../wallet/__test__/fixtures/utils';
import {AppBytecode} from '../../app-bytecode';
// This is the bytecode from nitro protocol's counting app
const countingAppBytcode =
  '0x608060405234801561001057600080fd5b50610390806100206000396000f3fe608060405234801561001057600080fd5b506004361061002b5760003560e01c8063c749a87914610030575b600080fd5b61004361003e36600461024c565b610059565b60405161005091906102e1565b60405180910390f35b600061006885602001516100df565b6000015160010161007c85602001516100df565b51146100a35760405162461bcd60e51b815260040161009a90610323565b60405180910390fd5b8451805160209182012085518051920191909120146100d45760405162461bcd60e51b815260040161009a906102ec565b506001949350505050565b6100e7610101565b818060200190518101906100fb9190610211565b92915050565b6040518060200160405280600081525090565b600082601f830112610124578081fd5b813567ffffffffffffffff8082111561013957fe5b604051601f8301601f19168101602001828111828210171561015757fe5b60405282815292508284830160200186101561017257600080fd5b8260208601602083013760006020848301015250505092915050565b60006040828403121561019f578081fd5b6040516040810167ffffffffffffffff82821081831117156101bd57fe5b8160405282935084359150808211156101d557600080fd5b6101e186838701610114565b835260208501359150808211156101f757600080fd5b5061020485828601610114565b6020830152505092915050565b600060208284031215610222578081fd5b6040516020810181811067ffffffffffffffff8211171561023f57fe5b6040529151825250919050565b60008060008060808587031215610261578283fd5b843567ffffffffffffffff80821115610278578485fd5b6102848883890161018e565b95506020870135915080821115610299578485fd5b506102a68782880161018e565b935050604085013565ffffffffffff811681146102c1578283fd5b9150606085013560ff811681146102d6578182fd5b939692955090935050565b901515815260200190565b60208082526017908201527f4f7574636f6d65206d757374206e6f74206368616e6765000000000000000000604082015260600190565b6020808252601b908201527f436f756e746572206d75737420626520696e6372656d656e746564000000000060408201526060019056fea2646970667358221220e700c724874eeffe032561dcdc4e2218066ea361883c5583233bb60d8e1f762e64736f6c63430007040033';

export const COUNTING_APP_DEFINITION = makeAddress('0x00000000000000000000000000000000000000ca');

const defaultValue: AppBytecode = AppBytecode.fromJson({
  appBytecode: countingAppBytcode,
  chainId: '0x00',
  appDefinition: COUNTING_APP_DEFINITION,
});

export const appBytecode = fixture<AppBytecode>(defaultValue);
